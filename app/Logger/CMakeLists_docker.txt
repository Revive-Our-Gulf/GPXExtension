#--------------------------------------------------------
# Top-Level: Logger
#
# @author: Wild Boar
#
# @Date Created: 2024-07-25
#--------------------------------------------------------

# Create the main application
cmake_minimum_required(VERSION 3.25.1)
project(Logger VERSION 0.1.0)

# Set the correct version of C++
set(CMAKE_CXX_STANDARD 17)

# Setup base directory
set(LIBRARY_BASE /Libraries)

# Setup the includes for the libraries
include_directories("../" "${LIBRARY_BASE}/NVLib")

# Add the NVLib library to the folder
add_library(NVLib STATIC IMPORTED)
set_target_properties(NVLib PROPERTIES
    IMPORTED_LOCATION "${LIBRARY_BASE}/NVLib/build/NVLib/libNVLib.a"
    INTERFACE_INCLUDE_DIRECTORIES "${LIBRARY_BASE}/NVLib"
)

# Add OpenCV to the solution
find_package( OpenCV REQUIRED)
include_directories( ${OpenCV_INCLUDE_DIRS} )

# Add the MariaDB connector
include_directories("/usr/include/mariadb")
add_library(mariadbcpp STATIC IMPORTED)
set_property(TARGET mariadbcpp PROPERTY IMPORTED_LOCATION "/usr/lib/libmariadbcpp.so")

# Include OpenSSL
find_package(OpenSSL REQUIRED)

# Add the available subfolders
add_subdirectory(LoggerLib)
add_subdirectory(Logger)