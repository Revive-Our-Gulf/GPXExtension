<?xml version="1.0" ?>

<class>

<namespace>NVL_App</namespace>
<solution>LoggerLib</solution>
<name>Repository</name>
<description>The repository for updating the storage</description>

<includes>
    <include name="iostream" namespace="std" local="false" />
    <include name="mariadb/conncpp.hpp" local="false" />
    <include name="Status.h" local="true" />
</includes>

<variables>
    <variable type="Sql::Connection" name="connection" code="10" />
    <variable type="string" name="database" code="10" />
</variables>

<constructors>
    <constructor type="auto" inline="false" />
</constructors>

<methods>

    <!-- Add Status -->
    <method section="Update" access="public" return="void" name="AddStatus" description="Add a new status to the system" inline="false">
        <parameter type="Status *" name="status" description="The status that we are dealing with" />
    </method>   

    <!-- Get Last Status -->
    <method section="Retrieve" access="public" return="unique_ptr<Status>" name="GetLastStatus" description="Get the last status from the system" inline="false" />

    <!-- Get Closest Status -->
    <method section="Retrieve" access="public" return="unique_ptr<Status>" name="GetClosestStatus" description="Get the closest status" inline="false">
        <parameter type="const string&" name="time" description="The time that we are searching for" />
    </method>   

</methods>

<tests>
    <test name="status_update" description="Perform the status update" exception="false" />
</tests> 

</class>